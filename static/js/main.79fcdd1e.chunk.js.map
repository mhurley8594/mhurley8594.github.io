{"version":3,"sources":["components/TotalHeader.js","components/TotalHeaderList.js","components/LogTable.js","components/Dashboard.js","secret/keys.js","components/LogForm.js","actions/actionCreators.js","actions/types.js","components/NavBar.js","App.js","reducers/logReducer.js","reducers/authReducer.js","reducers/rootReducer.js","config/fbConfig.js","index.js"],"names":["TotalHeader","props","react_default","a","createElement","label","count","TotalHeaderList","className","logs","reduce","acc","curr","kcal","toFixed","protein","fat","carb","LogTable","map","log","key","id","style","wordBreak","food","quantity","Dashboard","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","currentDate","Date","toISOString","substr","state","date","onDateChange","bind","assertThisInitialized","e","setState","target","value","_this2","logList","ListArea","TotalHeaders","selectedDateLogList","cur","push","htmlFor","type","defaultValue","onChange","Component","compose","connect","firestore","ordered","firestoreConnect","collection","USDA_API_KEY","LogForm","isQuantity","defineProperty","keys","foodMacros","length","calculateTotals","onAutocompleteChange","foodName","retrieveDataAsynchronously","onSubmit","preventDefault","addLog","history","autocompleteData","onSelect","getItemValue","renderItem","searchText","url","concat","encodeURI","fetch","then","resp","json","data","undefined","list","item","ndbno","foods","nutrients","name","unit","Number","desc","conversion","Autocomplete_default","items","wrapperProps","inputProps","placeholder","Link","to","dispatch","getState","_ref","getFirebase","getFirestore","add","catch","err","NavBar","App","BrowserRouter","components_NavBar","Switch","Route","exact","path","component","initialState","logReducer","arguments","console","initState","authReducer","rootReducer","combineReducers","auth","firestoreReducer","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firebase","initializeApp","settings","timestampsInSnapshots","store","createStore","applyMiddleware","thunk","withExtraArgument","reactReduxFirebase","fbConfig","reduxFirestore","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.79fcdd1e.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function TotalHeader(props) {\r\n    return (\r\n        <div>\r\n            <h6>{props.label}</h6>\r\n            <h4>{props.count}</h4>\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport TotalHeader from \"./TotalHeader\";\r\n\r\nexport default function TotalHeaderList(props) {\r\n  return (\r\n    <div className=\"container text-center\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <TotalHeader\r\n            label=\"kCal\"\r\n            count={props.logs.reduce((acc, curr) => {\r\n              return acc + curr.kcal;\r\n            }, 0).toFixed(2)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <TotalHeader\r\n            label=\"Protein\"\r\n            count={props.logs.reduce((acc, curr) => {\r\n              return acc + curr.protein;\r\n            }, 0).toFixed(2)}\r\n          />\r\n        </div>\r\n        <div className=\"col\">\r\n          <TotalHeader\r\n            label=\"Fat\"\r\n            count={props.logs.reduce((acc, curr) => {\r\n              return acc + curr.fat;\r\n            }, 0).toFixed(2)}\r\n          />\r\n        </div>\r\n        <div className=\"col\">\r\n          <TotalHeader\r\n            label=\"Carb\"\r\n            count={props.logs.reduce((acc, curr) => {\r\n              return acc + curr.carb;\r\n            }, 0).toFixed(2)}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nfunction renderTableRows(logs) {\r\n  return logs.map(log => {\r\n    return (\r\n      <tr key={log.id}>\r\n        <td style={{ wordBreak: 'break-all' }}>{log.food}</td>\r\n        <td>{log.quantity}</td>\r\n        <td>{log.kcal.toFixed(2)}</td>\r\n        <td>{log.protein.toFixed(2)}</td>\r\n        <td>{log.fat.toFixed(2)}</td>\r\n        <td>{log.carb.toFixed(2)}</td>\r\n      </tr>\r\n    );\r\n  });\r\n}\r\n\r\nexport default function LogTable(props) {\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col\">\r\n        <table className=\"table table-striped\">\r\n          <thead className=\"thead-dark\">\r\n            <tr>\r\n              <th>Food</th>\r\n              <th>Grams</th>\r\n              <th>kCal</th>\r\n              <th>Protein</th>\r\n              <th>Fat</th>\r\n              <th>Carb</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{renderTableRows(props.logs)}</tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// React\r\nimport React, { Component } from \"react\";\r\nimport TotalHeaderList from \"./TotalHeaderList\";\r\nimport LogTable from \"./LogTable\";\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\n\r\nclass Dashboard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Get the current date.\r\n    const today = new Date();\r\n    const currentDate = today.toISOString().substr(0, 10);\r\n\r\n    this.state = {\r\n      date: currentDate\r\n    };\r\n\r\n    this.onDateChange = this.onDateChange.bind(this);\r\n  }\r\n\r\n  onDateChange(e) {\r\n    this.setState({\r\n      date: e.target.value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { logList } = this.props;\r\n\r\n    let ListArea = <div />;\r\n    let TotalHeaders = <div />;\r\n    if (logList) {\r\n      // Get the logs for the selected date.\r\n      const selectedDateLogList = logList.reduce((acc, cur) => {\r\n        if (cur.date === this.state.date) acc.push(cur);\r\n        return acc;\r\n      }, []);\r\n\r\n      ListArea = <LogTable logs={selectedDateLogList} />;\r\n      TotalHeaders = <TotalHeaderList logs={selectedDateLogList} />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <h3 className=\"text-center\">Day Totals</h3>\r\n        {TotalHeaders}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"date\">Date:</label>\r\n          <input\r\n            type=\"date\"\r\n            id=\"date\"\r\n            className=\"form-control\"\r\n            defaultValue={this.state.date}\r\n            onChange={this.onDateChange}\r\n          />\r\n        </div>\r\n        {ListArea}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    logList: state.firestore.ordered.logs\r\n  };\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps),\r\n  firestoreConnect([{ collection: \"logs\" }])\r\n)(Dashboard);\r\n","export const FIREBASE_API_KEY = 'AIzaSyAQyQ2mkF6k5ToK-inOmaIwQVkwxCXFLDw';\r\nexport const USDA_API_KEY = 'OR1fFxCjbxhOg23jsmClJFrwjzATy596EbjAjtKR';","// React\r\nimport React, { Component } from \"react\";\r\nimport TotalHeaderList from \"./TotalHeaderList\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Autocomplete from 'react-autocomplete';\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { addLog } from \"../actions/actionCreators\";\r\n// USDA API key\r\nimport { USDA_API_KEY } from '../secret/keys';\r\n\r\nclass LogForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Get the current date.\r\n    const today = new Date();\r\n    const currentDate = today.toISOString().substr(0, 10);\r\n\r\n    this.state = {\r\n      date: currentDate,\r\n      foodName: \"\",\r\n      foodMacros: {},\r\n      autocompleteData: [],\r\n      quantity: 100,\r\n      kcal: 0,\r\n      protein: 0,\r\n      carb: 0,\r\n      fat: 0,\r\n    };\r\n\r\n    // Bind `this` context to functions of the class\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onAutocompleteChange = this.onAutocompleteChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onSelect = this.onSelect.bind(this);\r\n    this.getItemValue = this.getItemValue.bind(this);\r\n    this.renderItem = this.renderItem.bind(this);\r\n    this.retrieveDataAsynchronously = this.retrieveDataAsynchronously.bind(this);\r\n    this.calculateTotals = this.calculateTotals.bind(this);\r\n  }\r\n\r\n  /**\r\n    * Updates the state of the autocomplete data with the remote data obtained via AJAX.\r\n    * \r\n    * @param {String} searchText content of the input that will filter the autocomplete data.\r\n    * @return {Nothing} The state is updated but no value is returned\r\n    */\r\n  retrieveDataAsynchronously(searchText) {\r\n    let _this = this;\r\n    let url = `https://api.nal.usda.gov/ndb/search/?format=json&q=${encodeURI(searchText)}&max=25&offset=0&api_key=${USDA_API_KEY}`;\r\n\r\n    fetch(url)\r\n      .then(resp => resp.json())\r\n      .then(data => {\r\n        if (data.list !== undefined) {\r\n          _this.setState({\r\n            autocompleteData: data.list.item\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  onChange = e => {\r\n    let _this = this;\r\n    let isQuantity = e.target.id === 'quantity';\r\n\r\n    _this.setState({\r\n      [e.target.id]: e.target.value\r\n    }, () => {\r\n      if (isQuantity && Object.keys(_this.state.foodMacros).length !== 0) _this.calculateTotals();\r\n    });\r\n\r\n  }\r\n\r\n  onAutocompleteChange = e => {\r\n    this.setState({\r\n      foodName: e.target.value\r\n    });\r\n\r\n    // TODO Set delay here.\r\n    this.retrieveDataAsynchronously(e.target.value);\r\n  }\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    // Call the addLog action creator.\r\n    this.props.addLog({\r\n      date: this.state.date,\r\n      food: this.state.foodName,\r\n      quantity: this.state.quantity,\r\n      kcal: this.state.kcal,\r\n      protein: this.state.protein,\r\n      carb: this.state.carb,\r\n      fat: this.state.fat,\r\n    });\r\n    // Redirect.\r\n    this.props.history.push(\"/\");\r\n  }\r\n\r\n  /**\r\n     * Callback triggered when the autocomplete input changes.\r\n     * \r\n     * @param {Object} val Value returned by the getItemValue function.\r\n     * @return {Nothing} No value is returned\r\n     */\r\n  onSelect(ndbno) {\r\n    let _this = this;\r\n\r\n    // Fetch the macronutrients of the selected food item.\r\n    fetch(`https://api.nal.usda.gov/ndb/V2/reports?ndbno=${ndbno}&type=f&format=json&api_key=${USDA_API_KEY}`)\r\n      .then(resp => resp.json())\r\n      .then(data => {\r\n        const foodMacros = data.foods[0].food.nutrients.reduce((acc, cur) => {\r\n          if (cur.name === 'Energy' && cur.unit === 'kcal') acc.kcal = Number(cur.value);\r\n          if (cur.name === 'Protein') acc.protein = Number(cur.value);\r\n          if (cur.name === 'Total lipid (fat)') acc.fat = Number(cur.value);\r\n          if (cur.name === 'Carbohydrate, by difference') acc.carb = Number(cur.value);\r\n          return acc;\r\n        }, {});\r\n\r\n        _this.setState({\r\n          foodName: data.foods[0].food.desc.name,\r\n          foodMacros: foodMacros\r\n        }, () => {\r\n          _this.calculateTotals();\r\n        });\r\n      });\r\n  }\r\n\r\n  renderItem(item) {\r\n    return (\r\n      <div\r\n        key={item.ndbno}\r\n        className=\"list-group-item\"\r\n      >\r\n        {item.name}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getItemValue(item) {\r\n    return item.ndbno;\r\n  }\r\n\r\n  calculateTotals() {\r\n    const conversion = this.state.quantity / 100;\r\n    const foodMacros = this.state.foodMacros;\r\n\r\n    this.setState({\r\n      kcal: conversion * foodMacros.kcal,\r\n      protein: conversion * foodMacros.protein,\r\n      carb: conversion * foodMacros.carb,\r\n      fat: conversion * foodMacros.fat\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <h3 className=\"text-center\">New Log</h3>\r\n        <TotalHeaderList\r\n          logs={[\r\n            {\r\n              kcal: this.state.kcal,\r\n              protein: this.state.protein,\r\n              carb: this.state.carb,\r\n              fat: this.state.fat\r\n            }\r\n          ]}\r\n        />\r\n        <form onSubmit={this.onSubmit}>\r\n          <label htmlFor=\"food\">Food:</label>\r\n          <Autocomplete\r\n            id=\"food\"\r\n            getItemValue={this.getItemValue}\r\n            items={this.state.autocompleteData}\r\n            renderItem={this.renderItem}\r\n            value={this.state.foodName}\r\n            onChange={this.onAutocompleteChange}\r\n            onSelect={this.onSelect}\r\n            wrapperProps={{ className: \"form-group\", style: {} }}\r\n            inputProps={{ className: \"form-control\", placeholder: \"Search for food\" }}\r\n          />\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"date\">Date:</label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"date\"\r\n              className=\"form-control\"\r\n              value={this.state.date}\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"quantity\">Grams:</label>\r\n            <input\r\n              id=\"quantity\"\r\n              name=\"quantity\"\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              defaultValue={100}\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"kcal\"\r\n            id=\"kcal\"\r\n            value={this.state.kcal}\r\n          />\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"protein\"\r\n            id=\"protein\"\r\n            value={this.state.protein}\r\n          />\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"carb\"\r\n            id=\"carb\"\r\n            value={this.state.carb}\r\n          />\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"fat\"\r\n            id=\"fat\"\r\n            value={this.state.fat}\r\n          />\r\n          <button className=\"btn btn-secondary\">Add Log</button>\r\n          <Link to=\"/\" className=\"btn\">\r\n            Cancel\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addLog: log => dispatch(addLog(log))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(LogForm);\r\n","import * as types from \"./types\";\r\n\r\nexport const addLog = log => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    // Make async call to database.\r\n    // Middleware applied in ../store.js.\r\n    // \"logs\" is the name of the collection in Firebase.\r\n    const firestore = getFirestore();\r\n    firestore\r\n      .collection(\"logs\")\r\n      .add({\r\n        date: log.date,\r\n        food: log.food,\r\n        quantity: log.quantity,\r\n        kcal: log.kcal,\r\n        protein: log.protein,\r\n        carb: log.carb,\r\n        fat: log.fat\r\n      })\r\n      .then(() => {\r\n        dispatch({ type: types.ADD_LOG, log });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: types.ADD_LOG_ERROR, err });\r\n      });\r\n  };\r\n};\r\n","export const ADD_LOG = \"ADD_LOG\";\r\nexport const ADD_LOG_ERROR = \"ADD_LOG_ERROR\";\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass NavBar extends Component {\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar navbar-expand-lg sticky-top navbar-dark bg-dark\">\r\n                <div className=\"container\">\r\n                    <Link to=\"/\" className=\"navbar-brand\">Nutrient Log</Link>\r\n                    <div className=\"navbar-nav text-right\">\r\n                        <div className=\"nav-item\">\r\n                            <Link to=\"/add\" className=\"btn btn-secondary btn-sm\">Add Log</Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NavBar;\r\n","import React, { Component } from 'react';\r\nimport {\r\n  BrowserRouter,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport Dashboard from './components/Dashboard';\r\nimport LogForm from './components/LogForm';\r\nimport NavBar from './components/NavBar';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <div>\r\n          <NavBar />\r\n          <Switch>\r\n            <Route exact={true} path=\"/\" component={Dashboard} />\r\n            <Route exact={true} path=\"/add\" component={LogForm} />\r\n          </Switch>\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import * as types from \"../actions/types\";\r\n\r\nconst initialState = {};\r\n\r\nconst logReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.ADD_LOG:\r\n      console.log(\"add log\");\r\n      return state;\r\n\r\n    case types.ADD_LOG_ERROR:\r\n      console.log(\"add log error\");\r\n      return state;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default logReducer;\r\n","const initState = {};\r\n\r\nconst authReducer = (state = initState, action) => {\r\n  return state;\r\n};\r\n\r\nexport default authReducer;\r\n","// Combines all reducers to create the application state.\r\nimport { combineReducers } from \"redux\";\r\nimport logReducer from \"./logReducer\";\r\nimport authReducer from \"./authReducer\";\r\n// Firebase\r\nimport { firestoreReducer } from \"redux-firestore\";\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  log: logReducer,\r\n  firestore: firestoreReducer\r\n});\r\n\r\nexport default rootReducer;\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport { FIREBASE_API_KEY } from '../secret/keys';\r\n\r\n// Replace this with your own config details\r\nvar config = {\r\n    apiKey: FIREBASE_API_KEY,\r\n    authDomain: \"react-firebase-tutorial-3f678.firebaseapp.com\",\r\n    databaseURL: \"https://react-firebase-tutorial-3f678.firebaseio.com\",\r\n    projectId: \"react-firebase-tutorial-3f678\",\r\n    storageBucket: \"react-firebase-tutorial-3f678.appspot.com\",\r\n    messagingSenderId: \"256336111624\"\r\n};\r\nfirebase.initializeApp(config);\r\nfirebase.firestore().settings({ timestampsInSnapshots: true });\r\n\r\nexport default firebase;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\n\r\n// Redux and Firebase\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport rootReducer from \"./reducers/rootReducer\";\r\nimport { Provider } from \"react-redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { reduxFirestore, getFirestore } from \"redux-firestore\";\r\nimport { reactReduxFirebase, getFirebase } from \"react-redux-firebase\";\r\nimport fbConfig from \"./config/fbConfig\";\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  compose(\r\n    applyMiddleware(thunk.withExtraArgument({ getFirebase, getFirestore })),\r\n    reactReduxFirebase(fbConfig), // redux binding for firebase\r\n    reduxFirestore(fbConfig) // redux bindings for firestore\r\n  )\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}